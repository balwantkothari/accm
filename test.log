/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
CREATE SCHEMA ACCOUNTS AUTHORIZATION DBA
DROP SCHEMA ACCOUNTS
CREATE SCHEMA ACCOUNTS AUTHORIZATION SA
CREATE TABLE ACCOUNTS.CUSTOMER (\u000d\u000a\u0009ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100, INCREMENT BY 1) PRIMARY KEY,\u000d\u000a\u0009NAME VARCHAR(256),\u000d\u000a\u0009PARENT_NAME VARCHAR(256),\u000d\u000a\u0009VILLAGE VARCHAR(256),\u000d\u000a\u0009ADDRESS VARCHAR(256),\u000d\u000a\u0009PHONE INTEGER)
CREATE TABLE ACCOUNTS.USERS (\u000d\u000a\u0009ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,\u000d\u000a\u0009USERNAME VARCHAR(256),\u000d\u000a\u0009PASSWORD VARCHAR(256))
ALTER TABLE ACCOUNTS.USERS ADD CONSTRAINT USERNAME_US UNIQUE(USERNAME)
DROP TABLE ACCOUNTS.USERS
CREATE TABLE ACCOUNTS.USERS (\u000d\u000a\u0009ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,\u000d\u000a\u0009USERNAME VARCHAR(256),\u000d\u000a\u0009PASSWORD VARCHAR(256))
ALTER TABLE ACCOUNTS.USERS ADD CONSTRAINT USERNAME_UN UNIQUE (USERNAME)
create table ACCOUNTS.SHIPPER  (\u000d\u000a   SHIPPER_NAME    VARCHAR(50) NOT NULL,\u000d\u000a   SHIPPER_COUNTRY    VARCHAR(50) NOT NULL,\u000d\u000a   SHIPPER_DESCRIPTION VARCHAR(50),\u000d\u000a   CONSTRAINT PK_SHIP PRIMARY KEY (SHIPPER_NAME, SHIPPER_COUNTRY)\u000d\u000a)
CREATE TABLE ACCOUNTS.LOAN (\u000d\u000a\u0009LOAN_ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,\u000d\u000a\u0009CUST_ID INTEGER NOT NULL,\u000d\u000a\u0009AMOUNT DOUBLE NOT NULL,\u000d\u000a\u0009LOAN_TYPE INTEGER NOT NULL,\u000d\u000a\u0009RATE FLOAT,\u000d\u000a\u0009ITEM VARCHAR(256),\u000d\u000a\u0009LOAN_DATE DATE,\u000d\u000a\u0009LOAN_STATUS INTEGER,\u000d\u000a\u0009COMMENT VARCHAR(1024),\u000d\u000a\u0009CONSTRAINT CUST_ID_FK FOREIGN KEY (CUST_ID) REFERENCES ACCOUNTS.CUSTOMER(ID))
DROP TABLE ACCOUNTS.SHIPPER
DROP SCHEMA ACCOUNTS CASCADE
CREATE SCHEMA ACCOUNTS AUTHORIZATION SA
CREATE TABLE ACCOUNTS.CUSTOMER (\u000d\u000a\u0009CUST_ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,\u000d\u000a\u0009NAME VARCHAR(256) NOT NULL,\u000d\u000a\u0009PARENT_NAME VARCHAR(256) NOT NULL,\u000d\u000a\u0009VILLAGE VARCHAR(256) NOT NULL,\u000d\u000a\u0009ADDRESS VARCHAR(256) NOT NULL,\u000d\u000a\u0009PHONE INTEGER)
CREATE TABLE ACCOUNTS.USERS (\u000d\u000a\u0009USER_ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,\u000d\u000a\u0009USERNAME VARCHAR(256) NOT NULL,\u000d\u000a\u0009PASSWORD VARCHAR(256) NOT NULL)
ALTER TABLE ACCOUNTS.USERS ADD CONSTRAINT USERNAME_UN UNIQUE (USERNAME)
CREATE TABLE ACCOUNTS.LOAN (\u000d\u000a\u0009LOAN_ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,\u000d\u000a\u0009CUST_ID INTEGER NOT NULL,\u000d\u000a\u0009LOAN_AMOUNT DOUBLE NOT NULL,\u000d\u000a\u0009LOAN_TYPE INTEGER NOT NULL,\u000d\u000a\u0009RATE FLOAT,\u000d\u000a\u0009ITEM VARCHAR(256),\u000d\u000a\u0009LOAN_DATE DATE NOT NULL,\u000d\u000a\u0009LOAN_STATUS INTEGER NOT NULL,\u000d\u000a\u0009COMMENT VARCHAR(1024),\u000d\u000a\u0009CONSTRAINT CUST_ID_FK FOREIGN KEY (CUST_ID) REFERENCES ACCOUNTS.CUSTOMER(CUST_ID),\u000d\u000a\u0009CONSTRAINT LOAN_AMOUNT_CHK CHECK (LOAN_AMOUNT > 0))
CREATE TABLE ACCOUNTS.DEPOSITS(\u000d\u000a\u0009LOAN_ID INTEGER NOT NULL,\u000d\u000a\u0009DEPOSIT_AMOUNT DOUBLE NOT NULL,\u000d\u000a\u0009DEPOSITS_BY VARCHAR(256),\u000d\u000a\u0009DEPOSITS_USER VARCHAR(256) NOT NULL,\u000d\u000a\u0009DEPOSIT_DATE DATE NOT NULL,\u000d\u000a\u0009CONSTRAINT LOAN_ID_FK FOREIGN KEY (LOAN_ID) REFERENCES ACCOUNTS.LOAN(LOAN_ID),\u000d\u000a\u0009CONSTRAINT DEPOSIT_AMOUNT_CHK CHECK (DEPOSIT_AMOUNT > 0))
DISCONNECT
